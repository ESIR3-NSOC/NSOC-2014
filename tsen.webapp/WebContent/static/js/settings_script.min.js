function getSettings(){$.get("./settings",function(e,t){$.each($.parseJSON(e),function(e,t){var n=$(".content li#"+e+" .info input");if($(n).attr("type")=="checkbox")$(n).prop("checked",t);else $(n).val(t)})})}function getStatus(){$.get("./status",function(e,t){$.each($.parseJSON(e),function(e,t){$(".view .content li .info .pending").removeClass("pending");switch(e){case"MS1_connection":var n=$(".content li#MS1_IP .info div");t?n.removeClass().addClass("valid"):n.removeClass().addClass("invalid");break;case"MS1_authentication":var n=$(".content li#MS1_User .info div, .content li#MS1_Password .info div");t?n.removeClass().addClass("valid"):n.removeClass().addClass("invalid");break;default:break}})})}function setAbout(){CKEDITOR.config.contentsCss="static/css/style_ckeditor.css";CKEDITOR.replace("aboutInfo");$.get("./about",function(e,t){CKEDITOR.instances["aboutInfo"].setData(e)})}function getDevices(){$.get("./devices",function(e,t){$.each($.parseJSON(e),function(e,t){var n=$("<li>").addClass("text-center");$(n).append($("<i>").addClass("fa").addClass("fa-hdd-o"));$(n).append($("<span>").text(t["name"]));$(n).append($("<div>").addClass("info").append($("<div>").addClass("button").addClass("green").addClass("arrow").text("id: "+t["deviceAddress"]["id"])));$("#devices ul").append($(n))})})}function getUsers(){$.get("./users",function(e,t){$.each($.parseJSON(e),function(e,t){var n=$("#user_example").children().clone();$(n).eq(0).text(t["username"]);$(n).appendTo("div#users .list")})})}function sendAbout(){var e=CKEDITOR.instances["aboutInfo"].getData();var t={aboutInfo:e};$.post("./about",t)}$('input[type="checkbox"]').change(function(){var e="new_"+$(this).closest("li").attr("id")+"="+$(this).is(":checked");$.post("./settings",e).done(function(e){getStatus()});$("li."+$(this).attr("id")+" input").prop("disabled",!$(this).prop("checked"))});$(".content li.parameter .info input[type=text],input[type=number],input[type=password],textarea").focusin(function(){$(this).parent().removeClass("pending").addClass("regular")}).focusout(function(){var e="new_"+$(this).closest("li").attr("id")+"="+$(this).val();$.post("./settings",e).done(function(e){getStatus()});$(this).parent().removeClass("regular").addClass("pending")});$(".menu li").click(function(){$(".menu li").removeClass("active");$(this).addClass("active");$(".view").removeClass("active");$(".view#"+$(this).attr("id")).addClass("active")});getSettings();getStatus();getDevices();getUsers();setAbout()